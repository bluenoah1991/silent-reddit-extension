---
description: 对当前主题进行项目源码研究并更新研究报告
---

## 执行流程

1. **检查项目宪法**:
   - 读取宪法文件 `specify/constitution.md`（如存在）
   - 确保后续操作符合宪法约束

2. **获取当前主题**:
   - 扫描 `specify/` 目录找到最新主题目录（按序号排序）
   - 读取最新主题目录下的 `discuss.md` 文件了解内容
   - 如无主题目录则提示运行 `/senatus.new-topic` 并结束命令

3. **检查现有研究**:
   - 检查 `specify/{当前主题目录}/research.md` 是否存在
   - 如存在则读取现有内容作为基础

4. **执行项目研究**:
   - 基于主题和宪法约束确定研究范围
   - 搜索分析相关代码和文件
   - 分析技术栈、架构模式、代码风格

5. **创建/更新研究报告**:
   - 读取模板文件 `.specify/research-template.md`
   - 替换模板占位符：
     * `{{DISCUSS_FILE_PATH}}` → 关联的 discuss.md 文件路径
     * `{{CURRENT_DATE}}` → 当前日期（YYYY-MM-DD）
   - 填充各章节实际研究内容：
     * 技术栈现状 - 项目使用的编程语言、框架、库、工具等
     * 代码风格 - 代码组织方式、命名规范、编程模式、架构风格
     * 相关目录结构 - 与主题相关的文件夹组织结构、具体文件、模块
     * 相关业务逻辑 - 与主题相关的业务流程、数据流、核心功能实现
     * 相关技术实现 - 与主题相关的具体实现方式、配置、集成方案
   - 生成目标文件 `specify/{当前主题目录}/research.md`（如文件已存在则覆盖）

## 输出结果
- 研究报告的主要发现
- 建议运行 `/senatus.discuss` 或 `/senatus.inspire` 进行主题讨论