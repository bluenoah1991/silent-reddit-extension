# 实现记录 - T22

## 任务信息
- **编号**: T22
- **描述**: 添加对faceplate-gif元素的隐藏支持，在constants.js中添加FACEPLATE_GIF和FACEPLATE_GIF_HIDDEN选择器

## 实现细节

### 背景
用户反馈板块右侧有时会出现 `faceplate-gif` 元素显示GIF图片，希望能在启用媒体屏蔽功能时隐藏这些GIF图片。

### 修改内容

#### 1. 扩展 constants.js 中的媒体选择器

在 `SELECTORS` 对象中添加了新的选择器：

```javascript
// Media selectors
MEDIA_CONTAINER: '[slot="post-media-container"]',
THUMBNAIL: '[slot="thumbnail"], [data-testid="post-thumbnail"], [data-testid="search_post_thumbnail"]',
COMMUNITY_STATUS: 'community-status-tooltip, community-status',
COMMENT_MEDIA: 'shreddit-player-2, figure.rte-media',
FACEPLATE_GIF: 'faceplate-gif',  // 新增：GIF元素选择器
```

在恢复选择器部分添加：

```javascript
MEDIA_WITH_PLACEHOLDER: '[slot="post-media-container"][data-sr-media-placeholder]',
THUMBNAIL_HIDDEN: '[slot="thumbnail"][data-sr-media-hidden], [data-testid="post-thumbnail"][data-sr-media-hidden], [data-testid="search_post_thumbnail"][data-sr-media-hidden]',
COMMUNITY_STATUS_HIDDEN: 'community-status-tooltip[data-sr-media-hidden], community-status[data-sr-media-hidden]',
COMMENT_MEDIA_HIDDEN: 'shreddit-player-2[data-sr-media-hidden], figure.rte-media[data-sr-media-hidden]',
FACEPLATE_GIF_HIDDEN: 'faceplate-gif[data-sr-media-hidden]',  // 新增：用于恢复的选择器
```

### 技术说明

**选择器定义**：
- `FACEPLATE_GIF: 'faceplate-gif'` - 直接匹配所有 `<faceplate-gif>` 自定义元素
- `FACEPLATE_GIF_HIDDEN: 'faceplate-gif[data-sr-media-hidden]'` - 匹配已被标记为隐藏的元素，用于恢复显示

**设计考虑**：
- 使用与其他媒体元素一致的命名规范（XXX 和 XXX_HIDDEN）
- 使用 `data-sr-media-hidden` 属性标记已处理元素
- 遵循项目现有的选择器组织方式

### 构建验证
- ✅ 运行 `npm run build` 构建成功
- ✅ 无编译错误和警告
- ✅ 代码风格符合项目规范（英文注释）

---
*创建时间: 2025-10-19*
