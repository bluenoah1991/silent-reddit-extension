# 实现记录 - T15

## 任务信息
- **编号**: T15
- **描述**: 扩展constants.js中的USER_AVATAR_IMG选择器，添加`[data-testid="search-comment-content"] img[data-testid="nsfw-subreddit-icon"]`以覆盖搜索评论列表中的NSFW用户头像

## 实现细节

### 修改文件
- `constants.js`

### 变更内容

**原代码**：
```javascript
USER_AVATAR_IMG: '[slot="commentAvatar"] img, a[href*="/user/"] img, [data-testid="search-author"] img, [data-testid="search-community"] img',
```

**修改后**：
```javascript
USER_AVATAR_IMG: '[slot="commentAvatar"] img, a[href*="/user/"] img, [data-testid="search-author"] img, [data-testid="search-community"] img, [data-testid="search-comment-content"] img[data-testid="nsfw-subreddit-icon"]',
```

### 实现说明

扩展了 `USER_AVATAR_IMG` 选择器，添加了针对搜索评论列表中NSFW用户头像的选择器：

- `[data-testid="search-comment-content"]` - 定位到搜索评论内容容器
- `img[data-testid="nsfw-subreddit-icon"]` - 匹配NSFW头像图标

这个选择器专门用于处理搜索结果页面评论列表中显示的NSFW用户头像（使用 `https://www.redditstatic.com/shreddit/assets/avatar_over18.png` 图标）。

### DOM结构
```html
<div data-testid="search-comment-content">
    <faceplate-hovercard>
        <a href="#">
            <span rpl="" avatar="">
                <span class="inline-block rounded-full">
                    <img alt="" data-testid="nsfw-subreddit-icon" 
                         src="https://www.redditstatic.com/shreddit/assets/avatar_over18.png">
                </span>
            </span>
            Ferrisuk
        </a>
    </faceplate-hovercard>
</div>
```

---
*创建时间: 2025-10-19*
