# 实现记录 - T02

## 任务信息
- **编号**: T02
- **描述**: 扩展constants.js中的SNOOVATAR选择器，添加`[data-testid="search-author"] .snoovatar`以覆盖搜索结果用户列表的snoovatar头像

## 实现细节

### 修改文件
- `constants.js`

### 具体变更

在`SilentReddit.SELECTORS`对象中扩展了`SNOOVATAR`选择器：

**修改前：**
```javascript
SNOOVATAR: '[slot="commentAvatar"] .snoovatar, a[href*="/user/"] .snoovatar',
```

**修改后：**
```javascript
SNOOVATAR: '[slot="commentAvatar"] .snoovatar, a[href*="/user/"] .snoovatar, [data-testid="search-author"] .snoovatar',
```

### 实现原理

1. **添加`[data-testid="search-author"] .snoovatar`选择器**：
   - 用于匹配搜索结果页面中使用SVG snoovatar头像的用户元素
   - 这些snoovatar位于带有`data-testid="search-author"`属性的容器内
   - snoovatar是Reddit使用的一种SVG格式的用户头像

2. **与T01任务互补**：
   - T01添加了img元素的选择器
   - T02添加了snoovatar容器的选择器
   - 两者共同确保搜索结果页面的用户头像都能被正确处理

### 影响范围

这个修改会影响以下模块：
- `icons-replacer.js`的`_replaceSnoovatarAvatars()`方法会使用新的选择器
- 所有使用`SNOOVATAR`选择器的地方都会受益于这个扩展

### 测试验证点

- [ ] 搜索结果用户列表页面中使用snoovatar的用户头像能被正确隐藏
- [ ] 原有的评论区snoovatar头像替换功能不受影响
- [ ] 不会误匹配其他页面的非目标元素

---
*创建时间: 2025-10-19*
