# 实现记录 - T01

## 任务信息
- **编号**: T01
- **描述**: 重构准备：重命名 content.js 为 content.js.backup，修改 build.js 排除 .backup 文件

## 实现细节

### 1. 重命名文件
使用 Windows `ren` 命令将 content.js 重命名为 content.js.backup：
```bash
ren content.js content.js.backup
```

### 2. 修改 build.js
在 build.js 中添加了自动扫描 JS 文件的功能，同时排除 .backup 文件：

```javascript
// 新增函数：自动扫描根目录下所有 .js 文件
function getJsFiles() {
    const jsFiles = fs.readdirSync(SOURCE_DIR)
        .filter(file => file.endsWith('.js') && file !== 'build.js' && !file.endsWith('.backup'));
    return jsFiles;
}
```

更新了 `build()` 函数，使用 `getJsFiles()` 动态获取需要拷贝的 JS 文件：
```javascript
const jsFiles = getJsFiles();
const allItems = [...FILES_TO_COPY, ...jsFiles, ...DIRS_TO_COPY];
```

更新了 `watch()` 函数，监听所有动态扫描到的 JS 文件：
```javascript
const jsFiles = getJsFiles();
const filesToWatch = [...FILES_TO_COPY, ...jsFiles];
```

### 3. 移除硬编码
从 `FILES_TO_COPY` 中移除了硬编码的 `content.js`，改为动态扫描。

### 变更总结
- ✅ content.js 已重命名为 content.js.backup，保留作为重构参考
- ✅ build.js 现在会自动扫描所有 .js 文件（排除 build.js 和 .backup 文件）
- ✅ 构建系统准备就绪，可以支持多模块文件

---
*创建时间: 2025-10-18*
