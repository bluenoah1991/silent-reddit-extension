# 实现记录 - T02

## 任务信息
- **编号**: T02
- **描述**: 创建 constants.js 模块：定义 DATA_ATTRS、SELECTORS、DEFAULT_SETTINGS、AVATAR_COLORS 等常量

## 实现细节

### 模块设计
创建了 `constants.js` 文件，使用全局命名空间 `SilentReddit` 管理所有常量。

### 定义的常量

#### 1. DEFAULT_SETTINGS
默认设置对象：
```javascript
SilentReddit.DEFAULT_SETTINGS = {
    enabled: true,
    blockAds: true,
    blockMedia: true,
    replaceLogo: true
};
```

#### 2. DATA_ATTRS
统一的数据属性名（使用 `data-sr-*` 前缀）：
- `AD_HIDDEN`: 'data-sr-ad-hidden'
- `MEDIA_PLACEHOLDER`: 'data-sr-media-placeholder'
- `MEDIA_HIDDEN`: 'data-sr-media-hidden'
- `ICON_REPLACED`: 'data-sr-icon-replaced'
- `LOGO_REPLACED`: 'data-sr-logo-replaced'
- `BANNER_PROCESSED`: 'data-sr-banner-processed'
- `ORIGINAL_SRC`: 'data-sr-original-src'
- `ORIGINAL_STYLE`: 'data-sr-original-style'
- `ORIGINAL_CONTENT`: 'data-sr-original-content'
- `ORIGINAL_BANNER_BG`: 'data-sr-original-banner-bg'

#### 3. SELECTORS
所有 CSS 选择器字符串：
- 广告选择器（ADS）
- 媒体选择器（MEDIA_CONTAINER, THUMBNAIL, COMMUNITY_STATUS）
- 图标选择器（SUBREDDIT_ICON, USER_AVATAR_IMG, SNOOVATAR, AVATAR_CONTAINER）
- Shadow DOM 选择器（NAV_COMMUNITIES_CONTROLLER, NAV_COMMUNITY_ITEM, RECENT_PAGES）
- Logo 和 Banner 选择器
- 带状态属性的查询选择器（方便快速查询已处理元素）

#### 4. AVATAR_COLORS
字母头像颜色调色板（10 种颜色）：
```javascript
SilentReddit.AVATAR_COLORS = [
    '#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8',
    '#F7DC6F', '#BB8FCE', '#85C1E2', '#F8B195', '#C06C84'
];
```

#### 5. CSS_CLASSES
扩展使用的 CSS 类名：
- `TEXT_PLACEHOLDER`: 'silent-reddit-text-placeholder'
- `LETTER_AVATAR`: 'silent-reddit-letter-avatar'

### 命名规范
- 遵循 D03 讨论决策，使用 `data-sr-*` 前缀（sr = Silent Reddit）
- 状态标记模式：`data-sr-{模块}-{状态}`
- 原始数据保存模式：`data-sr-original-{属性}`

### 日志
模块加载时输出日志：`[SR] Constants module loaded`（符合 D05 日志策略）

---
*创建时间: 2025-10-18*
