---
description: 进行当前主题的讨论并记录
argument-hint: [讨论内容]
---

**用户输入**: $ARGUMENTS

**⚠️ 重要提醒**：本命令**仅进行讨论和文档记录**，不执行代码编写和文件修改操作。

## 执行流程

1. **检查用户输入**:
   - 如用户未提供内容则提示"请提供要讨论的具体内容"并结束命令

2. **检查项目宪法**:
   - 读取宪法文件 `specify/constitution.md`（如存在）
   - 确保后续操作符合宪法约束

3. **获取当前主题**:
   - 扫描 `specify/` 目录找到最新主题目录（按序号排序）
   - 读取最新主题目录下的 `discuss.md` 文件了解内容
   - 如无主题目录则提示运行 `/senatus.new-topic` 并结束命令

4. **读取研究基础**:
   - 读取 `specify/{当前主题目录}/research.md` 文件（如存在）
   - 如研究文件不存在则建议先运行 `/senatus.research`
   - 基于现有研究结果了解项目现状

5. **进行讨论**:
   - 基于用户输入、已有讨论和研究结果开始讨论
   - 与用户进行多轮对话，澄清关键问题和技术细节
   - 等待用户的明确回复，不能自问自答
   - 根据讨论需要参考项目源码
   - **严格遵循项目宪法约束**

6. **结束讨论**:
   - 当达成结论或用户要求结束时停止
   - 明确讨论的问题和达成的结论
   - **检查结论是否符合项目宪法要求**

7. **记录讨论**:
   - 检查 `specify/{当前主题目录}/discuss.md` 文件，确定下一个编号（D01, D02, D03...）
   - 在 `specify/{当前主题目录}/discuss.md` 文件讨论记录部分添加：
     ```markdown
     ### D[编号] - YYYY-MM-DD HH:MM:SS
     **问题**: [本次讨论的具体问题]
     **结论**: [达成的结论或决策]
     ```
   - **注意**：记录中不要引用任务编号（如 T01、T02 等），避免回滚时产生歧义

## 输出结果
- 讨论总结